%------------------------------------------------------------------------------------------------------------
\section{HUGIN AMIDST API} \label{sec:HuginLink}
%------------------------------------------------------------------------------------------------------------

In addition to the functionalities developed in the AMIDST software, it is important to define and set up interfaces between the AMIDST software and other existing softwares such as R, Weka, HUGIN, MOA (Massive Online Analysis), etc. This allows to efficiently exploit existing systems and guarantee a broader and better usability of the AMIDST software.

In this section, we present, as an example, the \comp{Hugin AMIDST API} interface which consists of the functionalities implemented to link the AMIDST toolbox with the HUGIN software. Recall that AMIDST toolbox is an open source, entirely new software developed from scratch within this project, while the HUGIN AMIDST API is an extension of the COTS HUGIN software. 

The \comp{Hugin AMIDST API} component is extremely useful. In fact, the connection with HUGIN extends AMIDST toolbox by providing some extra functionalities, such as the use of parallel TAN or parallel PC for BN structural learning (see Section 5, Deliverable 4.1 \cite{Deliverable 4.1}), as well as the use of previously developed BN learning and inference algorithms. In what follows, we introduce two basic functionalities of Hugin AMIDST API that allow converting HUGIN models into AMIDST models, and vice versa. 

%------------------------------------------------------------------------------------------------------------
\subsection{Converters from AMIDST to HUGIN format} \label{ConverterFromAmidstToHugin}
%------------------------------------------------------------------------------------------------------------

This functionality addresses the conversion of a \comp{BN} or a \comp{DBN} from AMIDST to HUGIN. 

The following brief code fragment shows how to convert a \comp{BN} and a \comp{DBN} from AMIDST to HUGIN format, then store them in files. The files could be then accessed and opened using HUGIN software to visually check the created networks with the AMIDST toolbox. 


\begin{table}[H]
\begin{tabular}{l} \hline

\%For a \comp{BN}:\\ 
\texttt{BayesianNetwork amidstBN = BayesianNetwork.newBayesianNetwork(dag);}\\
\texttt{Domain huginBN = BNConverterToHugin.convertToHugin(amidstBN);;}\\
\texttt{huginBN.saveAsNet("networks/huginNetworkFromAMIDST.net");}\\\\ 

\%For a \comp{DBN}:\\ 
        \texttt{DynamicBayesianNetwork amidstDBN =}\\ \texttt{~~~~~DynamicBayesianNetwork.newDynamicBayesianNetwork(dynamicDAG);}\\
        \texttt{Class huginDBN = DBNConverterToHugin.convertToHugin(amidstDBN);}\\
        \texttt{huginDBN.setName("huginDBNFromAMIDST");}\\
        \texttt{huginDBN.saveAsNet("networks/huginDBNFromAMIDST.oobn");}\\ \hline

\end{tabular}
\end{table} 

%------------------------------------------------------------------------------------------------------------
\subsection{Converters from HUGIN to AMIDST format} \label{ConverterFromHuginToAmidst}
%------------------------------------------------------------------------------------------------------------

This functionality addresses the conversion of a \comp{BN} or a \comp{DBN} from HUGIN to AMIDST. 

The following brief code fragment shows how to convert a \comp{BN} and a \comp{DBN} from HUGIN to AMIDST format, then store them in files. The files could be then accessed and used in the AMIDST toolbox. 


\begin{table}[H]
\begin{tabular}{l} \hline

\%For a \comp{BN}:\\ 

        \texttt{ParseListener parseListener = new DefaultClassParseListener();}\\
        \texttt{Domain huginBN = new Domain ("networks/asia.net", parseListener);}\\
        \texttt{BayesianNetwork amidstBN = BNConverterToAMIDST.convertToAmidst(huginBN);}\\
        \texttt{BayesianNetworkWriter.saveToFile(amidstBN, "networks/asia.bn");}\\\\

\%For a \comp{DBN}:\\ 
        \texttt{DefaultClassParseListener parseListener = new DefaultClassParseListener();}\\
        \texttt{ClassCollection cc = new ClassCollection();}\\
        \texttt{String file = new String("networks/CajamarDBN.oobn");}\\
        \texttt{cc.parseClasses (file, parseListener);}\\
        \texttt{String[] aux = file.split("/");}\\
        \texttt{String fileName = aux[aux.length-1];}\\
        \texttt{String modelName = fileName.substring(0,fileName.length()-5);}\\
        \texttt{Class HuginDBN = cc.getClassByName(modelName);}\\
        \texttt{DynamicBayesianNetwork amidstDBN = }\\
        \texttt{~~~~~~~~~~~~~~~~~~~~~~~~DBNConverterToAmidst.convertToAmidst(HuginDBN);}\\
        \texttt{DynamicBayesianNetworkWriter.saveToFile(amidstDBN,"networks/CajamarDBN.bn");}\\ \hline
        
\end{tabular}
\end{table} 