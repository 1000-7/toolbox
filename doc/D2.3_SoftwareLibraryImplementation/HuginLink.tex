%------------------------------------------------------------------------------------------------------------
\section{HUGIN AMIDST API} \label{sec:HuginLink}
%------------------------------------------------------------------------------------------------------------

The \comp{Hugin link} component consists of the functionalities implemented to link the AMIDST toolbox with the HUGIN software. This connection is primarily ensured by converting HUGIN models into AMIDST models, and vice versa. 

This component is extremely useful as it allows us to test and assess some of the implemented AMIDST functionalities within a well-established platform as HUGIN. For instance, a new inference algorithm implemented in AMIDST could be compared with some state-of-the-art algorithms included in HUGIN. In addition, the connection with HUGIN efficiently extends AMIDST toolbox by providing some extra functionalities, such as the use of parallel TAN for BN structural learning. 

%------------------------------------------------------------------------------------------------------------
\subsection{Converters from AMIDST to HUGIN format} \label{ConverterFromAmidstToHugin}
%------------------------------------------------------------------------------------------------------------

This functionality addresses the conversion of a \comp{BN} or a \comp{DBN} from AMIDST to HUGIN. This conversion is done at ``object-level'', which is far more efficient that if it would be done by converting the models to data files and, then, parsing them. 

The following brief code fragment shows how to convert a \comp{BN} and a \comp{DBN} from AMIDST to HUGIN format, then store them in files. The files could be then accessed and opened using HUGIN software to visually check the created networks with the AMIDST toolbox. 


\begin{table}[H]
\begin{tabular}{l} \hline

\%For a \comp{BN}:\\ 
\texttt{BayesianNetwork amidstBN = BayesianNetwork.newBayesianNetwork(dag);}\\
\texttt{Domain huginBN = BNConverterToHugin.convertToHugin(amidstBN);;}\\
\texttt{huginBN.saveAsNet("networks/huginNetworkFromAMIDST.net");}\\\\ 

\%For a \comp{DBN}:\\ 
        \texttt{DynamicBayesianNetwork amidstDBN =}\\ \texttt{~~~~~DynamicBayesianNetwork.newDynamicBayesianNetwork(dynamicDAG);}\\
        \texttt{Class huginDBN = DBNConverterToHugin.convertToHugin(amidstDBN);}\\
        \texttt{huginDBN.setName("huginDBNFromAMIDST");}\\
        \texttt{huginDBN.saveAsNet("networks/huginDBNFromAMIDST.oobn");}\\ \hline

\end{tabular}
\end{table} 

%------------------------------------------------------------------------------------------------------------
\subsection{Converters from HUGIN to AMIDST format} \label{ConverterFromHuginToAmidst}
%------------------------------------------------------------------------------------------------------------

This functionality addresses the conversion of a \comp{BN} or a \comp{DBN} from HUGIN to AMIDST. As before, this conversion is also done at ``object-level''.

The following brief code fragment shows how to convert a \comp{BN} and a \comp{DBN} from HUGIN to AMIDST format, then store them in files. The files could be then accessed and used in AMIDST toolbox. 


\begin{table}[H]
\begin{tabular}{l} \hline

\%For a \comp{BN}:\\ 

        \texttt{ParseListener parseListener = new DefaultClassParseListener();}\\
        \texttt{Domain huginBN = new Domain ("networks/asia.net", parseListener);}\\
        \texttt{BayesianNetwork amidstBN = BNConverterToAMIDST.convertToAmidst(huginBN);}\\
        \texttt{BayesianNetworkWriter.saveToFile(amidstBN, "networks/asia.bn");}\\\\

\%For a \comp{DBN}:\\ 
        \texttt{DefaultClassParseListener parseListener = new DefaultClassParseListener();}\\
        \texttt{ClassCollection cc = new ClassCollection();}\\
        \texttt{String file = new String("networks/CajamarDBN.oobn");}\\
        \texttt{cc.parseClasses (file, parseListener);}\\
        \texttt{String[] aux = file.split("/");}\\
        \texttt{String fileName = aux[aux.length-1];}\\
        \texttt{String modelName = fileName.substring(0,fileName.length()-5);}\\
        \texttt{Class HuginDBN = cc.getClassByName(modelName);}\\
        \texttt{DynamicBayesianNetwork amidstDBN = DBNConverterToAmidst.convertToAmidst(HuginDBN);}\\
        \texttt{DynamicBayesianNetworkWriter.saveToFile(amidstDBN, "networks/CajamarDBN.bn");}\\ \hline
        
\end{tabular}
\end{table} 