<!DOCTYPE html><html  lang="en-us">  <head>    <meta  content="text/html; charset=UTF-8"  http-equiv="content-type">    <title>AMIDST Toolbox 2.0 by amidst</title>    <meta  name="viewport"  content="width=device-width, initial-scale=1">    <link  rel="stylesheet"  type="text/css"  href="../stylesheets/normalize.css"       media="screen">    <link  href="https://fonts.googleapis.com/css?family=Open+Sans:400,700"  rel="stylesheet"       type="text/css">    <link  rel="stylesheet"  type="text/css"  href="../stylesheets/stylesheet.css"       media="screen">    <link  rel="stylesheet"  type="text/css"  href="../stylesheets/github-light.css"       media="screen">  </head>  <body>    <section  class="page-header">      <h1  class="project-name">AMIDST Toolbox 2.0</h1>      <h2  class="project-tagline">A Java Toolbox for Analysis of MassIve Data        STreams using Probabilistic Graphical Models</h2>      <a  href="https://github.com/amidst/toolbox"  class="btn">View on GitHub</a>      <a  href="https://github.com/amidst/toolbox/zipball/master"  class="btn">Download
        .zip</a> <a  href="https://github.com/amidst/toolbox/tarball/master"  class="btn">Download
        .tar.gz</a> </section>    <section  class="main-content">      <h1> <a  id="getting-started-"  class="anchor"  href="#getting-started-"           aria-hidden="true"><span             aria-hidden="true"             class="octicon octicon-link"></span></a>        Using a jar file from command line<a  name="architecture"></a></h1>      <h2  id="command"> <a  id="installing-amidst-toolbox-"  class="anchor"  href="file:///Users/rcabanas/Dropbox/amidst_rcabanas/IdeaProjects/gh-pages/toolbox/GettingStarted.html#installing-amidst-toolbox-"           aria-hidden="true"><span             aria-hidden="true"             class="octicon octicon-link"></span></a>AMIDST        code example <a  name="installation"></a></h2>      <p  style="text-align: justify;">First of all, you can download a jar file        with the AMIDST toolbox and the basic dependencies from <a  href="../downloads/AmidstToolbox-basic.jar">here</a>.        Then you can try to run one of the code examples included in the toolbox        as follows:</p>      <pre><code>$ java -cp AmidstToolbox-basic.jar eu.amidst.core.examples.models.ModifiyingBayesianNetworks</code><br><!--StartFragment--><!--StartFragment--><!--EndFragment--></pre>The output generated is:<br><br><pre><code>Bayesian Network:P(DiscreteVar0) follows a Multinomial[ 0.6787932441676797, 0.3212067558323203 ]P(GaussianVar0 | DiscreteVar0) follows a Normal|MultinomialNormal [ mu = 20.809207904281628, var = 6.475452777972018 ] | {DiscreteVar0 = 0}Normal [ mu = 7.637707684364894, var = 3.8321839947664977 ] | {DiscreteVar0 = 1}Bayesian Network:P(DiscreteVar0) follows a Multinomial[ 0.2, 0.8 ]P(GaussianVar0 | DiscreteVar0) follows a Normal|MultinomialNormal [ mu = 1.0, var = 1.0 ] | {DiscreteVar0 = 0}Normal [ mu = 0.0, var = 1.0 ] | {DiscreteVar0 = 1}</code></pre><br><div  style="text-align: justify;">Previous code example is shown <a  href="CodeExamples.html#bnmodifyexample">here</a>. In this example we show how to access and modify the conditional probabilities of a Bayesian network model.<br><br><h2 id="command"> <a id="installing-amidst-toolbox-" class="anchor" href="file:///Users/rcabanas/Dropbox/amidst_rcabanas/IdeaProjects/gh-pages/toolbox/GettingStarted.html#installing-amidst-toolbox-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Custom code example <a name="installation"></a></h2>In most of the cases we will require to link the jar library with our own source code. As an example, let us consider that we aim to create a program that reads a Bayesian network from a file and makes inference on it. The source code is the following:</div><br><pre><code>import eu.amidst.core.inference.InferenceEngine;import eu.amidst.core.io.BayesianNetworkLoader;import eu.amidst.core.models.BayesianNetwork;import eu.amidst.core.variables.Assignment;import eu.amidst.core.variables.HashMapAssignment;import eu.amidst.core.variables.Variable;/** * This example show how to perform inference in a Bayesian network model using <br> * the InferenceEngine static class. * This class aims to be a straigthfoward way to perform queries over a Bayesian <br> * network model. */public class InferenceExample {    public static void main(String[] args) throws Exception {        //We first load the WasteIncinerator bayesian <br>	//network which has multinomial and Gaussian variables.        BayesianNetwork bn = <br>		BayesianNetworkLoader.loadFromFile("./networksTests/WasteIncinerator.bn");        //We recover the relevant variables for <br>	//this example: Mout which is normally distributed, and W which is multinomial.        Variable varMout = bn.getVariables().getVariableByName("Mout");        Variable varW = bn.getVariables().getVariableByName("W");        //Set the evidence.        Assignment assignment = new HashMapAssignment(1);        assignment.setValue(varW,0);        //Then we query the posterior of        System.out.println("P(Mout|W=0) = " <br>		+ InferenceEngine.getPosterior(varMout, bn, assignment));        //Or some more refined queries        System.out.println("P(0.7 < Mout < 6.59 | W=0) = " <br>		+ InferenceEngine.getExpectedValue(varMout, <br>		bn, v -> (0.7 < v && v < 6.59) ? 1.0 : 0.0 ));    }}</code></pre><br><p>Let us assume that you have in your project the following folders:<br></p><ul><li>src/ including the source codes (.java format).</li><li>lib/ including the libraries (.jar format).</li><li>bin/ including the pre-compiled files (.class format)</li><li>networkTests/ including some examples of Bayesian networks (.bn format).</li></ul><p style="text-align: justify;">First of all, create a file InferenceExample.java containing previous code a save it in src folder. Then copy the AmidstToolbox-basic.jar into the lib folder. The network used in this example, which can be downloaded from <a href="../downloads/WasteIncinerator.bn">here</a>, should be copied into the networkTests folder. Alternatively, <a href="../downloads/examples_files.zip">here</a> you can download a .zip file containing all the files.</p><p>For compiling your code use the following command:<br></p><pre><code>$ javac -d bin -sourcepath src -cp lib/AmidstToolbox-basic.jar src/InferenceExample.java </code></pre><p  style="text-align: justify;">If everything is correct, no output will be generated. You can also check that the file bin/InferenceExample.class has been created. Finally for running the program use the following command:</p><br><pre><code>$ java -cp bin:lib/AmidstToolbox-basic.jar InferenceExample</code></pre><div style="text-align: justify;">Note that in previous command, the option -cp indicates the files/folders in the classpath using the symbol ":" as a separator. The classpath should contain the folder bin and the AMIDST toolbox package. The generated output is the following:</div><br><pre><code>P(Mout|W=0) = Normal [ mu = 6.418371055368566, var = 0.002 ]P(0.7 < Mout < 6.59 | W=0) = 1.0</code></pre><code><h2></h2><p><br></p><p><a  href="file:///Users/rcabanas/Dropbox/amidst_rcabanas/IdeaProjects/gh-pages/toolbox/CodeExamples.html#documentation"><br></a></p><span  class="site-footer-owner"><a  href="https://github.com/amidst/toolbox">AMIDST Toolbox 2.0</a> is maintained by <a href="https://github.com/amidst">amidst</a>.</span>        <span  class="site-footer-credits">This page was generated by <a  href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>          </code></section><code>            <script  type="text/javascript">            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));          </script>          <script  type="text/javascript">            try {              var pageTracker = _gat._getTracker("UA-66233470-1");            pageTracker._trackPageview();            } catch(err) {}          </script></code></body></html>